<!DOCTYPE html>
<html>
    <body class="body">
        <link rel="style" href="styling.css">
        <h1>Daniel's Cloud Computing Program 4</h1>

        <div class="main">
            <button onclick="loadButtonClicked()" class="button">Load Data</button>
            <button onclick="clearButtonClicked()" class="button">Clear Data</button>
            <form name="inputForm">
                First Name:
                <input name="firstName" type="text" value=""/>
                Last Name:
                <input name="lastName" type="text" value=""/>
            </form>
            <button onclick="queryButtonClicked()" class="button">Query Data</button>
    
            <p id="userfeedback"></p>
        </div>
        
        <script language="Javascript">
            function loadButtonClicked() {
                document.getElementById("userfeedback").innerHTML = "Loading data into Bucket and NoSQL Storage";
                //bucketLoadURL = "arn:aws:execute-api:us-east-1:909176613742:htry3uqdfb/*/POST/loadbucket";
                bucketLoadURL = "https://htry3uqdfb.execute-api.us-east-1.amazonaws.com/prod";
                tableLoadURL = "arn:aws:execute-api:us-east-1:909176613742:htry3uqdfb/*/POST/loadtable";
                


                var request = new XMLHttpRequest();
                request.open("GET", bucketLoadURL, true);
                request.send();
                request.onreadystatechange = function () {
                    if (request.readyState == 4 && request.status == 200) {
                        //document.getElementById("userfeedback").innerHTML = request.response;
                    }
                }
                
            }

            function clearButtonClicked() {
                document.getElementById("userfeedback").innerHTML = "Deleting all data from Bucket and NoSQL Storage";
                // TODO:
                // - Delete all objects in S3 bucket "Program4"
                // - Delete all table rows in Dyanmo DB table
            }

            function queryButtonClicked() {
                document.getElementById("userfeedback").innerHTML = "Query Results:";
                // TODO:
                // - Use Query Library to query Dyanmo DB table using first and last name data input
                // - Print out all matches or "No Matches in Dyanmo Table"
            }
        </script>
    </body>
</html>